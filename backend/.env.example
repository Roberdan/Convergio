# Backend Environment Variables
# IMPORTANT: This file is for local development and should NOT be committed.

# ================================
# ü§ñ AI PROVIDER CONFIGURATION
# ================================
# Choose your AI provider mode:
#   - ollama_only:  100% local, FREE, no cloud calls ever
#   - azure_only:   Enterprise Azure OpenAI only
#   - hybrid:       Local for simple, cloud for complex
#   - cloud_first:  Best quality (OpenAI/Anthropic)
AI_PROVIDER_MODE="hybrid"

# Strict mode: if true, NEVER fallback to cloud (use with ollama_only)
AI_STRICT_MODE=false

# ================================
# üè† OLLAMA (LOCAL AI - FREE)
# ================================
# Ollama runs locally - no API key needed, 100% free
# Install: https://ollama.ai
# Recommended models: llama3.2, qwen2.5, qwen2.5-coder
OLLAMA_HOST="http://localhost:11434"
OLLAMA_DEFAULT_MODEL="llama3.2:latest"
# Fallback model (smaller, faster)
OLLAMA_FALLBACK_MODEL="llama3.2:3b"

# ================================
# ‚òÅÔ∏è OPENAI (CLOUD)
# ================================
OPENAI_API_KEY="your-openai-api-key-here"
# Optional: custom base URL for OpenAI-compatible APIs
# OPENAI_API_BASE="https://api.openai.com/v1"

# ================================
# üß† ANTHROPIC CLAUDE (CLOUD)
# ================================
ANTHROPIC_API_KEY="your-anthropic-api-key-here"

# ================================
# üè¢ AZURE OPENAI (ENTERPRISE)
# ================================
# For enterprise deployments with GDPR/SOC2 compliance
# Requires Azure subscription and OpenAI resource
AZURE_OPENAI_ENDPOINT="https://your-resource.openai.azure.com/"
AZURE_OPENAI_API_KEY="your-azure-openai-api-key"
AZURE_OPENAI_API_VERSION="2024-02-15-preview"
AZURE_OPENAI_DEPLOYMENT="gpt-4o-deployment-name"

# Azure OpenAI Realtime (Voice) - requires separate deployment
AZURE_OPENAI_REALTIME_ENDPOINT="https://your-resource.openai.azure.com/"
AZURE_OPENAI_REALTIME_API_KEY="your-azure-openai-api-key"
AZURE_OPENAI_REALTIME_DEPLOYMENT="gpt-4o-realtime"

# ================================
# üîç PERPLEXITY (WEB SEARCH)
# ================================
PERPLEXITY_API_KEY="your-perplexity-api-key"

# ================================
# üîê SECURITY KEYS (REQUIRED)
# ================================
SERVICE_REGISTRY_SECRET="a-strong-random-secret-key-64-chars-long"
API_KEY_ENCRYPTION_KEY="a-32-byte-long-encryption-key-here"
JWT_SECRET="your-super-secret-jwt-key-here-change-in-production"
JWT_ALGORITHM=RS256

# ================================
# üåê SERVER CONFIGURATION
# ================================
HOST="0.0.0.0"
PORT=9000
AGENTS_PORT=9000
BACKEND_URL="http://localhost:9000"
WORKERS="1"
ENVIRONMENT="development"
DEBUG=false

# Default AI model (overridable per session via Settings UI)
# Recommended: gpt-4o-mini (stable, cheap). Other options may be configured per user.
DEFAULT_AI_MODEL="gpt-4o-mini"

# ================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ================================
# PostgreSQL Database
POSTGRES_HOST="localhost"
POSTGRES_PORT=5432
POSTGRES_DB="convergio_db"
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="postgres"
DATABASE_URL="postgresql+asyncpg://postgres:postgres@localhost:5432/convergio_db"
DB_HOST="localhost"
DB_PORT=5432

# ================================
# ‚ö° REDIS CONFIGURATION
# ================================
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_DB=1
REDIS_URL="redis://localhost:6379/1"

# ================================
# üåç NETWORK & HOSTING
# ================================
# Configurable host for multi-environment support
DEFAULT_HOST=localhost

# Service ports (configurable for different environments)
FRONTEND_PORT=4000
BACKEND_PORT=9000
API_PORT=9000
ADMIN_PORT=9001

# ================================
# üë§ USER & SESSION CONFIGURATION
# ================================
# Default user IDs for system operations
DEFAULT_USER_ID=system_user
DEFAULT_ANONYMOUS_USER=system_anonymous
DEFAULT_TEST_USER=system_test_user

# ================================
# üõ†Ô∏è FEATURE CONFIGURATION
# ================================
# Reference agent content truncation length
REFERENCE_AGENT_TRUNCATE_LENGTH=3000

# Rate limiting configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE_AUTH=5
RATE_LIMIT_PER_MINUTE_API=100
RATE_LIMIT_PER_MINUTE_ADMIN=10

# ================================
# üìä OBSERVABILITY (REQUIRED)
# ================================
# Health check configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30

# Structured logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Metrics and telemetry
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4317"
PROMETHEUS_ENDPOINT="http://localhost:9090"
